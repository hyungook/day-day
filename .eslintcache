[{"/Users/ohhyungook/Desktop/오형욱/React/templat/src/index.js":"1","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/index.js":"2","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/firebase.js":"3","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/profile/profile.jsx":"4","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/home/home.jsx":"5","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/app.jsx":"6","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/router.jsx":"7","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/day/day.jsx":"8","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/login/login.jsx":"9","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/routes/auth.jsx":"10","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/navigation/navigation.jsx":"11","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/MyDay/myday.jsx":"12"},{"size":219,"mtime":1611267329992,"results":"13","hashOfConfig":"14"},{"size":219,"mtime":1623064510231,"results":"15","hashOfConfig":"16"},{"size":931,"mtime":1622358753502,"results":"17","hashOfConfig":"16"},{"size":1544,"mtime":1623245314799,"results":"18","hashOfConfig":"16"},{"size":4529,"mtime":1623245427142,"results":"19","hashOfConfig":"16"},{"size":2632,"mtime":1623331946407,"results":"20","hashOfConfig":"16"},{"size":1356,"mtime":1623331799540,"results":"21","hashOfConfig":"16"},{"size":2059,"mtime":1623331940292,"results":"22","hashOfConfig":"16"},{"size":164,"mtime":1621747192565,"results":"23","hashOfConfig":"16"},{"size":2837,"mtime":1621948962530,"results":"24","hashOfConfig":"16"},{"size":467,"mtime":1623331861412,"results":"25","hashOfConfig":"16"},{"size":198,"mtime":1623330268654,"results":"26","hashOfConfig":"16"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1pnboo1",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"1edk0n7",{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55"},"/Users/ohhyungook/Desktop/오형욱/React/templat/src/index.js",[],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/index.js",[],["56","57"],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/firebase.js",[],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/profile/profile.jsx",["58"],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/home/home.jsx",["59","60"],"import Day from 'components/day/day';\nimport React, { useEffect, useState } from 'react';\nimport { dbService, storageService } from '../../firebase'\nimport {v4 as uuidv4} from 'uuid';\nimport styles from './home.module.css';\n\n\n\nconst Home = ({ userObj }) => {\n\n    // login 정보 확인\n    // console.log(userObj)\n\n    const [day, setDay] = useState(\"\");\n    const  [days, setDays] = useState([]);\n    const [attachment, setAttachment] = useState(\"\");\n\n    // forEach 방식\n    // const getDays = async() => {\n    //     const dbdays = await dbService.collection(\"dayday\").get();\n    //     // dbdays.forEach(document =>console.log(document.data()))\n    //     dbdays.forEach(document => {\n\n    //         const dayObject = {\n    //             // spread attribute 기능이다.\n    //             ...document.data(),\n    //             id: document.id,\n    //         }\n\n    //         // set이 뿥는 함수를 사용할 떄는 값 대신에 함수를 전달할 수 있다\n    //         // 그리고 만약 함수를 전달하면, 리액트는 이전 값에 접근할 수 있게 해준다\n    //         // implicit return / 배열을 리턴한다. 이 배열에서 첫번째 요소는 가장 최근 document이고, 그 뒤로 이전 document 를 붙인다.\n    //         // setDays((prev) => [document.data(), ...prev])\n    //         setDays((prev) => [dayObject, ...prev])\n    //     })\n    // }\n\n    useEffect(() => {\n        // getDays();\n\n        dbService.collection(\"dayday\").onSnapshot(snapshot => {\n            // console.log(snapshot.docs)\n            const dayArray = snapshot.docs.map(doc => ({\n                id:doc.id,\n                ...doc.data(),\n            }));\n            // console.log(dayArray)\n            setDays(dayArray)\n        })\n\n    }, [])\n\n    let today = new Date();   \n\n    let year = today.getFullYear(); // 년도\n    let month = today.getMonth() + 1;  // 월\n    let date = today.getDate();  // 날짜\n    // let theDay = today.getDay();  // 요일\n\n    // console.log(year + '/' + month + '/' + date)\n\n    const onSubmit = async (event) => {\n        event.preventDefault()\n\n        let attachmentUrl = \"\"\n        \n        if(attachment !== \"\") {\n            const attachmentRef = storageService.ref().child(`${userObj.uid}/${uuidv4()}`)\n            const response =  await attachmentRef.putString(attachment, \"data_url\")\n            // console.log(await response.ref.getDownloadURL())\n            attachmentUrl = await response.ref.getDownloadURL()\n        }\n\n        const dayObj = {\n            text:day,\n            createdAt: Date.now(),\n            creatorId: userObj.uid,\n            attachmentUrl,\n            date: year + '.' + month + '.' + date,\n        }\n\n        await dbService.collection(\"dayday\").add(dayObj)\n        setDay(\"\")\n        setAttachment(\"\");\n\n        // await dbService.collection(\"dayday\").add({\n        //     text:day,\n        //     createdAt: Date.now(),\n        //     creatorId: userObj.uid,\n        // })\n        // setDay(\"\")\n        // console.log(day)\n    }\n\n    const onChange = (event) => {\n        const {target:{value},} = event;\n        setDay(value)\n    };\n\n    // console.log(days)\n\n    const onFileChange = (event) => {\n        const {target:{files},} = event;\n        const theFile = files[0];\n\n        const reader = new FileReader();\n        reader.onloadend = (finishedEvent) => {\n            console.log(finishedEvent)\n            const {currentTarget:{result},} = finishedEvent;\n            setAttachment(result);\n        }\n        reader.readAsDataURL(theFile);\n\n        // console.log(event.target.files)\n        // console.log(theFile)\n    };\n\n    const clearAttachment = () => {\n        setAttachment(null)\n    };\n\n    return <div>\n        <form onSubmit={onSubmit}>\n            <input value={day} onChange={onChange} type=\"text\" placeholder=\"\" maxLength={500} />\n            <input type=\"file\" accept=\"image/*\" onChange={onFileChange} />\n            <input type=\"submit\" value=\"diary\" />\n            {attachment && (\n                <div>\n                    <img src={attachment} width=\"50px\" height=\"50px\" />\n                    <button onClick={clearAttachment}>Cancel upload</button>\n                </div>\n            ) }\n        </form>\n        <div>\n            {days.map(day => (\n                // isOwner={day.creatorId === userObj} = 로그인 정보 대조\n                <Day key={day.id} dayObj={day} isOwner={day.creatorId === userObj.uid} />\n            ))}\n        </div>\n    </div>\n}\n\nexport default Home;","/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/app.jsx",["61","62","63","64","65","66"],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/router.jsx",[],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/day/day.jsx",["67"],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/login/login.jsx",[],["68","69"],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/routes/auth.jsx",[],["70","71"],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/navigation/navigation.jsx",[],"/Users/ohhyungook/Desktop/오형욱/portfolio/dayday/src/components/MyDay/myday.jsx",["72","73"],"import React from 'react';\nimport { authService, dbService } from '../../firebase'\n\nconst Myday = ({refreshUser, userObj}) => {\n\n    return (\n        <div>My Day</div>\n    )\n}\n\nexport default Myday;",{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":28,"column":7,"nodeType":"80","endLine":28,"endColumn":9,"suggestions":"81"},{"ruleId":"82","severity":1,"message":"83","line":5,"column":8,"nodeType":"84","messageId":"85","endLine":5,"endColumn":14},{"ruleId":"86","severity":1,"message":"87","line":129,"column":21,"nodeType":"88","endLine":129,"endColumn":72},{"ruleId":"82","severity":1,"message":"89","line":2,"column":8,"nodeType":"84","messageId":"85","endLine":2,"endColumn":12},{"ruleId":"82","severity":1,"message":"90","line":6,"column":27,"nodeType":"84","messageId":"85","endLine":6,"endColumn":33},{"ruleId":"82","severity":1,"message":"91","line":6,"column":35,"nodeType":"84","messageId":"85","endLine":6,"endColumn":40},{"ruleId":"82","severity":1,"message":"92","line":6,"column":42,"nodeType":"84","messageId":"85","endLine":6,"endColumn":48},{"ruleId":"82","severity":1,"message":"93","line":7,"column":8,"nodeType":"84","messageId":"85","endLine":7,"endColumn":13},{"ruleId":"82","severity":1,"message":"94","line":8,"column":8,"nodeType":"84","messageId":"85","endLine":8,"endColumn":16},{"ruleId":"86","severity":1,"message":"87","line":50,"column":50,"nodeType":"88","endLine":50,"endColumn":111},{"ruleId":"74","replacedBy":"95"},{"ruleId":"76","replacedBy":"96"},{"ruleId":"74","replacedBy":"97"},{"ruleId":"76","replacedBy":"98"},{"ruleId":"82","severity":1,"message":"99","line":2,"column":10,"nodeType":"84","messageId":"85","endLine":2,"endColumn":21},{"ruleId":"82","severity":1,"message":"100","line":2,"column":23,"nodeType":"84","messageId":"85","endLine":2,"endColumn":32},"no-native-reassign",["101"],"no-negated-in-lhs",["102"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getMyDay'. Either include it or remove the dependency array.","ArrayExpression",["103"],"no-unused-vars","'styles' is defined but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Auth' is defined but never used.","'Router' is defined but never used.","'Route' is defined but never used.","'Switch' is defined but never used.","'Login' is defined but never used.","'firebase' is defined but never used.",["101"],["102"],["101"],["102"],"'authService' is defined but never used.","'dbService' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"104","fix":"105"},"Update the dependencies array to be: [getMyDay]",{"range":"106","text":"107"},[784,786],"[getMyDay]"]